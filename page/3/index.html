<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="network,linux">
  
  
    <meta name="description" content="兰芝生于幽谷，不以无人而不芳">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    望伊如西の博客</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>
</html>
<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    
      <div class="video-frame">
        <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
      </div>
    
    <div class="video-media">
      <video playsinline autoplay loop muted data-autoplay poster="/images/ocean/ocean.png" x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">望伊如西の博客</a></h1>
      <p>兰芝生于幽谷，不以无人而不芳</p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="望伊如西の博客"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
      
        <article id="post-英语名词" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/05/06/英语名词/">英语名词</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2019/05/06/英语名词/" class="article-date">
  <time datetime="2019-05-06T14:57:04.000Z" itemprop="datePublished">2019-05-06</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/英语/">英语</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="英语名词"><a href="#英语名词" class="headerlink" title="英语名词"></a>英语名词</h1><h2 id="1-名词简介"><a href="#1-名词简介" class="headerlink" title="1.名词简介"></a>1.名词简介</h2><p>名词是<strong>人</strong>（people）、<strong>地</strong>（places）、<strong>事</strong>（things）和<strong>想法</strong>（ideas）</p>
<h3 id="1-1单复数名词singular-and-plural-nouns"><a href="#1-1单复数名词singular-and-plural-nouns" class="headerlink" title="1.1单复数名词singular  and  plural  nouns"></a>1.1单复数名词singular  and  plural  nouns</h3><p>单数名词只包含名词本身，只有一个事物</p>
<p>复数名词意味着有更多（more），即一个以上的事物</p>
<p>大部分名词由单数变成复数都是有规律的（即直接在名词后面+s）。但是也有部分名词的变化没有规律</p>
<h2 id="2-名词种类"><a href="#2-名词种类" class="headerlink" title="2.名词种类"></a>2.名词种类</h2><h3 id="2-1普通名词（common）和专有名词（proper）。"><a href="#2-1普通名词（common）和专有名词（proper）。" class="headerlink" title="2.1普通名词（common）和专有名词（proper）。"></a>2.1普通名词（common）和专有名词（proper）。</h3><p>普通名词在句首时，首字母才大写。而专有名词的首字母是一直大写</p>
<table>
<thead>
<tr>
<th style="text-align:center">common nouns</th>
<th style="text-align:center">proper nouns</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">city</td>
<td style="text-align:center">Chicago</td>
</tr>
<tr>
<td style="text-align:center">frog</td>
<td style="text-align:center">Kermit</td>
</tr>
<tr>
<td style="text-align:center">river</td>
<td style="text-align:center">Nile</td>
</tr>
<tr>
<td style="text-align:center">mountain</td>
<td style="text-align:center">Kilimanjaro</td>
</tr>
</tbody>
</table>
<h3 id="2-2具象名词（concrete）和抽象名词（abstract）。"><a href="#2-2具象名词（concrete）和抽象名词（abstract）。" class="headerlink" title="2.2具象名词（concrete）和抽象名词（abstract）。"></a>2.2具象名词（concrete）和抽象名词（abstract）。</h3><p>具象表示看得见摸得着的，而抽象名词则相反，比如一些概念。</p>
<h2 id="3-不规则名词复数"><a href="#3-不规则名词复数" class="headerlink" title="3.不规则名词复数"></a>3.不规则名词复数</h2><h3 id="3-1-f变为-ves"><a href="#3-1-f变为-ves" class="headerlink" title="3.1-f变为-ves"></a>3.1-f变为-ves</h3><table>
<thead>
<tr>
<th style="text-align:center">singular</th>
<th style="text-align:center">plural</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">lea<strong>f</strong></td>
<td style="text-align:center">lea<strong>ves</strong></td>
</tr>
<tr>
<td style="text-align:center">loa<strong>f</strong></td>
<td style="text-align:center">loa<strong>ves</strong></td>
</tr>
<tr>
<td style="text-align:center">cal<strong>f</strong></td>
<td style="text-align:center">cal<strong>ves</strong></td>
</tr>
</tbody>
</table>
<h3 id="3-2以en结尾的复数名词"><a href="#3-2以en结尾的复数名词" class="headerlink" title="3.2以en结尾的复数名词"></a>3.2以en结尾的复数名词</h3><p>只需要记住一个，<strong>child</strong>要变成<strong>children</strong></p>
<h3 id="3-3单复数同形"><a href="#3-3单复数同形" class="headerlink" title="3.3单复数同形"></a>3.3单复数同形</h3><p>sheep，fish，bison</p>
<h3 id="3-4突变体复数"><a href="#3-4突变体复数" class="headerlink" title="3.4突变体复数"></a>3.4突变体复数</h3><table>
<thead>
<tr>
<th style="text-align:center">singular</th>
<th style="text-align:center">plural</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">f<strong>oo</strong>t</td>
<td style="text-align:center">f<strong>ee</strong>t</td>
</tr>
<tr>
<td style="text-align:center">wom<strong>a</strong>n</td>
<td style="text-align:center">wom<strong>e</strong>n</td>
</tr>
<tr>
<td style="text-align:center">m<strong>a</strong>n</td>
<td style="text-align:center">m<strong>e</strong>n</td>
</tr>
<tr>
<td style="text-align:center">t<strong>oo</strong>th</td>
<td style="text-align:center">t<strong>ee</strong>th</td>
</tr>
<tr>
<td style="text-align:center">g<strong>oo</strong>se</td>
<td style="text-align:center">g<strong>ee</strong>se</td>
</tr>
<tr>
<td style="text-align:center">m<strong>ous</strong>e</td>
<td style="text-align:center">m<strong>ic</strong>e</td>
</tr>
<tr>
<td style="text-align:center">l<strong>ous</strong>e</td>
<td style="text-align:center">l<strong>ic</strong>e</td>
</tr>
</tbody>
</table>
<h3 id="3-5外来词复数"><a href="#3-5外来词复数" class="headerlink" title="3.5外来词复数"></a>3.5外来词复数</h3><table>
<thead>
<tr>
<th style="text-align:center">语言</th>
<th style="text-align:center">变化</th>
<th style="text-align:center">单数</th>
<th style="text-align:center">复数</th>
<th style="text-align:center">规则变化复数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">拉丁语</td>
<td style="text-align:center">a—ae</td>
<td style="text-align:center">larv<strong>a</strong></td>
<td style="text-align:center">larv<strong>ae</strong></td>
<td style="text-align:center">larva<strong>s</strong></td>
</tr>
<tr>
<td style="text-align:center">拉丁语</td>
<td style="text-align:center">us—i</td>
<td style="text-align:center">fung<strong>us</strong></td>
<td style="text-align:center">fung<strong>i</strong></td>
<td style="text-align:center">fungus<strong>es</strong></td>
</tr>
<tr>
<td style="text-align:center">拉丁语</td>
<td style="text-align:center">um—a</td>
<td style="text-align:center">dat<strong>um</strong></td>
<td style="text-align:center">dat<strong>a</strong></td>
<td style="text-align:center">无</td>
</tr>
<tr>
<td style="text-align:center">拉丁语</td>
<td style="text-align:center">ex—ices</td>
<td style="text-align:center">ind<strong>ex</strong></td>
<td style="text-align:center">ind<strong>ices</strong></td>
<td style="text-align:center">index<strong>es</strong></td>
</tr>
<tr>
<td style="text-align:center">希腊语</td>
<td style="text-align:center">is—es</td>
<td style="text-align:center">thes<strong>is</strong></td>
<td style="text-align:center">thes<strong>es</strong></td>
<td style="text-align:center">thesis<strong>es</strong></td>
</tr>
<tr>
<td style="text-align:center">希腊语</td>
<td style="text-align:center">on—a</td>
<td style="text-align:center">criteci<strong>on</strong></td>
<td style="text-align:center">criteci<strong>a</strong></td>
<td style="text-align:center">无</td>
</tr>
</tbody>
</table>

      

      

          
        
          
        </div>

    </div>
    <footer class="article-footer">
      <a data-url="https://dilidonglong.github.io/2019/05/06/英语名词/" data-id="ck09sgnia000o4ovdjqt3zevt" class="article-share-link">分享</a>
      
    </footer>

  

  

  

</article>



      
        <article id="post-软考试题3" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/05/06/软考试题3/">软考试题3</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2019/05/06/软考试题3/" class="article-date">
  <time datetime="2019-05-06T14:56:29.000Z" itemprop="datePublished">2019-05-06</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/软考/">软考</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="软考试题3"><a href="#软考试题3" class="headerlink" title="软考试题3"></a>软考试题3</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>A、B是局域网上两个相距1km的站点，A采用同步传输方式以1Mb/s的速率向B发送长度为200，000字节的文件。假定数据帧长为128比特，其中首部为48比特:应答帧为22比特，A在收到B的应答帧后发送下一帧。传送文件花费的时间为（  ）s，有效的数据速率为（  ）Mb/s（传播速率为200m/us）<br>A.1.6            B.2.4              C.3.2                  D.3.6<br>A.0.2            B.0.5              C.0.7                  D.0.8</p>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><ol>
<li><p>数据传输的过程中，可以理解成是寄快递。比如我想给我妈寄一支牙刷，牙刷用纸盒子包着。我妈拿到这个快递后，真正有用的想要的也就只有这个牙刷而已，那个纸盒子不是真正想要的东西。不过纸盒子上会有寄件人和收件人的信息。</p>
</li>
<li><p>题干中说的<code>假定数据帧长为128比特，其中首部为48比特</code>，其中首部48比特就类似于是纸盒子。128比特就类似于是被纸盒子包着的牙刷。那此时真正有用的数据部分是多少比特呢？聪明如你，很快就知道了是128-48=80bit。也就是说这80bit就类似于是这个牙刷。</p>
<hr>
</li>
<li><p>现在假设寄的不是牙刷，而是一个需要组装的电脑桌。这个桌子不像牙刷那么好寄，东西太多了，一个纸盒子可能还放不下，要多个纸盒子包着，然后再寄出去。</p>
</li>
<li><p>题干中说的200，000字节（即200，000x8=1600，000比特）的文件就类似于是需要组装的电脑桌。每个纸盒子只能放电脑桌部件的一部分，即每个盒子只能放80比特的内容。</p>
</li>
<li><p>那么此时需要多少个纸盒子装呢？聪明如你，相信已经知道了。1600 000/80=20 000。</p>
</li>
<li><p>一个纸盒子再加上里面的部件，合起来一共是128个比特。那么所有的包裹（纸盒子+电脑桌部件）加起来，占多少个比特呢。就是20 000x128=2560 000比特。</p>
<hr>
</li>
<li><p>快递公司穷，只有一辆车来运包裹，一次还只能运一个。运过去之后，还得等对方说一句我收到了，才能接着发第二个包裹。对方说的那句我收到了，就类似于题干中说的22比特的应答帧。也就是说，我发20 000个包裹过去，居然要回应20 000次我收到了。</p>
<hr>
</li>
<li><p>上述了解完后，可以开始做题了。我们知道如何计算一个数据帧从发出到对方接收所需要时间的公式，即发送时延+传播时延</p>
</li>
<li><p><strong>发送时延=数据帧长度/数据速率。把题中数值带入，即128bit/1Mbps=0.000128s。</strong></p>
</li>
<li><p><strong>传播时延=两点间距离/光速的三分之二。把题中数值带入，即1000m/（2x10^8）mps=0.000005s</strong></p>
</li>
<li><p><strong>所以从发送方发出一个帧到接收方接收，所需要的时间是0.000128+0.000005s=0.000133s</strong></p>
</li>
<li><p>我们把包裹发出去，还得等对方说句收到了才能继续发下一个包裹。那么对方说一句收到了，到我们发送方接收到需要多少时间呢？同理可得，<strong>发送时延=数据帧长度/数据速率。把题中数值带入，即22bit/1Mbps=0.000022s。传播时延=两点间距离/光速的三分之二。把题中数值带入，即1000m/（2x10^8）mps=0.000005s</strong>。所以需要的时间是<strong>0.000022s+0.000005s=0.000027s</strong></p>
<hr>
</li>
<li><p>综上，一来一回所需要的时间就是0.000027s+0.000133s=0.00016s</p>
</li>
<li><p>这还只是一个包需要的时间，现在要发20 000个包，那总共需要多长时间呢？<strong>对的，0.00016x20 000=3.2s</strong></p>
<hr>
</li>
<li><p>最后一问，问你有效数据速率是多少。你的电脑桌就是真正有效的东西，总共也就1600，000比特，为了发这1600000比特，花了一共3.2s的时间。<strong>所以有效数据速率就是1600000bit/3.2s=500 000bps=0.5Mbps</strong></p>
</li>
</ol>

      

      

          
        
          
        </div>

    </div>
    <footer class="article-footer">
      <a data-url="https://dilidonglong.github.io/2019/05/06/软考试题3/" data-id="ck09sgnij00174ovdgrashsy9" class="article-share-link">分享</a>
      
    </footer>

  

  

  

</article>



      
        <article id="post-软考试题2" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/05/06/软考试题2/">软考试题2</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2019/05/06/软考试题2/" class="article-date">
  <time datetime="2019-05-06T14:55:13.000Z" itemprop="datePublished">2019-05-06</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/软考/">软考</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="软考试题2"><a href="#软考试题2" class="headerlink" title="软考试题2"></a>软考试题2</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>用64K×8的RAM芯片和32K×16的ROM芯片设计一个256K×16的存储器，地址范围为00000H～3FFFFH，其中ROM的地址范围为10000H～1FFFFH，其余为RAM的地址。则地址线为（）根，数据线为（）根；RAM需要（）片，ROM需要（）片。<br>问题1选项<br>A 18       B 9          C 16        D 8<br>问题2选项<br>A 18            B 9             C 16            D 8<br>问题3选项<br>A 1             B 2             C 3                D 6<br>问题4选项<br>A 12            B 2             C 9               D 6</p>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><ol>
<li><p>64Kx8表示什么？</p>
<p>表示一个芯片的容量。其中64K表示一个芯片内地址块的数目，8表示每个地址块里面存放的比特位数。</p>
<p>其中，1K=1024，1M=1024K。64K=64x1024=65536，即一个芯片内有65536个地址块</p>
<p>你可以理解成，有一个大菜地（芯片），你把这个大菜地分成65536个小菜地（地址块）。每个小菜地里面都能种8颗白菜（比特位数）。一个芯片的容量就是整个大菜地里面能种的白菜数量。</p>
<hr>
</li>
<li><p>64Kx8与地址线，数据线的关系？</p>
<p>64K是一个十进制数，即$2^{16}$。</p>
<p>地址线传递地址信息。如果用1个比特，可以表示2个地址块（地址块数目是$2^1$），即编号为0的地址块和编号为1的地址块。如果用2个比特，可以表示4个地址块（地址块数目是$2^2$），即编号为00，01，10，11的四个地址块。那么我有16个比特的话，就能表示64K个地址块。<strong>一根地址线就占一个比特位，有16根地址线就表示有16个地址比特位。</strong></p>
<p>数据线传递数据信息。<strong>一根数据线就占一个比特位，8根数据线就占8个数据比特位。</strong></p>
<p>这些所谓的线，通过电平的高低变化来表示0或1。只是说不同的线，传递的信息是不同的。地址线传地址信息，数据线传数据信息，控制线传控制信息。这些信息是用0和1表示出来的。</p>
<hr>
</li>
<li><p>一个256K×16的存储器，由64K×8的RAM芯片和32K×16的ROM芯片组成。</p>
<p>你可以理解成，一个超级大菜地分成2个中型菜地，一个种白菜，一个种辣椒。</p>
<p>这两个中型菜地又分别由小菜地（RAM和ROM芯片）组成。</p>
<hr>
</li>
<li><p>一个256K×16的存储器，地址范围为00000H～3FFFFH（地址编号为十六进制数）。表示有（3FFFF-00000+1）H个地址块。你想下如果有3个数，编号分别为0~3，是不是一共有4个地址块。用3-0=3是不对的，还得再+1。</p>
<p>即这个存储器（超级大菜地）有（3FFFF-00000+1）H=40000H个地址块，每个地址块能容纳16个比特位数（种16个农作物）。</p>
<hr>
</li>
<li><p>其中ROM的地址范围为10000H～1FFFFH，这是占了超级大菜地里面的一部分地址块。这部分地址块的数目是多少呢？是（1FFFF-10000+1）H=10000H个。这个十六进制数换成十进制数是64K。</p>
<p>存储器中ROM芯片给的地址块是64K，每个地址块能容纳16个比特。所以存储器中关于ROM的总容量就是64Kx16。</p>
<p>由于题目中说了，存储器是由32K×16的ROM芯片组成。ROM总容量已知，每个ROM芯片的容量也已知，此时问你需要多少片<strong>ROM，聪明如你，相信已经知道答案了。（64Kx16）/（32Kx16）=2</strong></p>
<hr>
</li>
<li><p>ROM占了整个存储器的地址块有64K个。存储器共有256K个。那么留下来给RAM的地址块数目即是（256-64）K=192K个。RAM的总容量就是192Kx16。</p>
<p>知道RAM的总容量，知道每片RAM芯片的容量64K×8，问你需要多少片<strong>RAM。聪明如你，相信已经知道答案了。（192Kx16）/（64Kx8）=6</strong></p>
</li>
</ol>

      

      

          
        
          
        </div>

    </div>
    <footer class="article-footer">
      <a data-url="https://dilidonglong.github.io/2019/05/06/软考试题2/" data-id="ck09sgnjh001n4ovdqbxtvtsv" class="article-share-link">分享</a>
      
    </footer>

  

  

  

</article>



      
        <article id="post-tcpdump技巧" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/04/30/tcpdump技巧/">tcpdump技巧</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2019/04/30/tcpdump技巧/" class="article-date">
  <time datetime="2019-04-30T15:44:49.000Z" itemprop="datePublished">2019-04-30</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="tcpdump使用技巧"><a href="#tcpdump使用技巧" class="headerlink" title="tcpdump使用技巧"></a>tcpdump使用技巧</h1><p>1.监视指定网络接口的数据包</p>
<p>   [root@www ~]# tcpdump -i eth1                          </p>
<p>2.也可以指定ip,例如截获所有210.27.48.1 的主机收到的和发出的所有的数据包</p>
<p>   [root@www ~]# tcpdump host 210.27.48.1       </p>
<p>3.截获主机210.27.48.1 和主机210.27.48.2 或210.27.48.3的通信</p>
<p>   [root@www ~]# tcpdump host 210.27.48.1 and \ (210.27.48.2 or 210.27.48.3 \ )      </p>
<p>4.获取主机210.27.48.1除了和主机210.27.48.2之外所有主机通信的ip包</p>
<p>   [root@www ~]# tcpdump ip host 210.27.48.1 and ! 210.27.48.2     </p>
<p>5.截获主机webserver发送的所有数据</p>
<p>   [root@www ~]# tcpdump -i eth0 src host webserver </p>
<p>6.监视所有送到主机webserver的数据包       </p>
<p>   [root@www ~]# tcpdump -i eth0 dst host webserver        </p>
<p>7.获取主机210.27.48.1接收或发出的telnet包</p>
<p>   [root@www ~]# tcpdump tcp port 23 and host 210.27.48.1       </p>
<p>8.打印所有源地址或目标地址是本地主机的IP数据包</p>
<p>   [root@www ~]# tcpdump ip and not net localnet       </p>
<p> 9.打印长度超过576字节</p>
<p>   [root@www ~]# tcpdump ip[2:2] &gt; 576     </p>
<p>10.第一个n表示以IP地址的方式显示主机名，第二个N是以端口数字的形式代替服务名。</p>
<p>   [root@www ~]# tcpdump -nn </p>
<hr>
<p>[root@www ~]# tcpdump tcp -i eth1 -t -s 0 -c 100 and dst port ! 22 and src net 192.168.1.0/24 -w ./target.cap<br>(1)tcp: ip icmp arp rarp 和 tcp、udp、icmp这些选项等都要放到第一个参数的位置，用来过滤数据报的类型<br>(2)-i eth1 : 只抓经过接口eth1的包<br>(3)-t : 不显示时间戳<br>(4)-s 0 : 抓取数据包时默认抓取长度为68字节。加上-S 0 后可以抓到完整的数据包<br>(5)-c 100 : 只抓取100个数据包<br>(6)dst port ! 22 : 不抓取目标端口是22的数据包<br>(7)src net 192.168.1.0/24 : 数据包的源网络地址为192.168.1.0/24<br>(8)-w ./target.cap : 保存成cap文件，方便用ethereal(即wireshark)分析</p>

      

      

          
        
          
        </div>

    </div>
    <footer class="article-footer">
      <a data-url="https://dilidonglong.github.io/2019/04/30/tcpdump技巧/" data-id="ck09sgnhr00054ovdstfay22k" class="article-share-link">分享</a>
      
    </footer>

  

  

  

</article>



      
        <article id="post-wireshark技巧" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/04/30/wireshark技巧/">wireshark技巧</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2019/04/30/wireshark技巧/" class="article-date">
  <time datetime="2019-04-30T15:40:03.000Z" itemprop="datePublished">2019-04-30</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/小技巧/">小技巧</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="wireshark技巧"><a href="#wireshark技巧" class="headerlink" title="wireshark技巧"></a>wireshark技巧</h1><blockquote>
<p>资料来源：</p>
<p><a href="https://community.emc.com/go/chinese" target="_blank" rel="noopener">1.EMC中文支持论坛</a></p>
<p><a href="https://www.dell.com/community/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E8%AE%A8%E8%AE%BA%E5%8C%BA/%E5%A6%82%E6%9E%9C%E7%9C%8B%E4%BA%86%E8%BF%99%E4%B8%AA%E4%BD%A0%E8%BF%98%E6%98%AF%E4%B8%8D%E4%BC%9A%E7%94%A8Wireshark-%E9%82%A3%E5%B0%B1%E6%9D%A5%E6%89%BE%E6%88%91%E5%90%A7-8%E6%9C%886%E6%97%A5%E5%AE%8C%E7%BB%93/td-p/7007033/page/5" target="_blank" rel="noopener">2.如果看了这个你还是不会用Wireshark-那就来找我吧-8月6日完结</a></p>
<p><a href="http://linux.51yip.com/search/tcpdump" target="_blank" rel="noopener">3.Linux命令手册-tcpdump</a></p>
<p><a href="https://chegva.com/3019.html" target="_blank" rel="noopener">4.Linux上使用wireshark(tshark)抓包分析</a></p>
<p><a href="https://chegva.com/2473.html" target="_blank" rel="noopener">5.tcpdump使用技巧</a></p>
</blockquote>
<h2 id="1-抓包前设置过滤条件（捕捉过滤器）"><a href="#1-抓包前设置过滤条件（捕捉过滤器）" class="headerlink" title="1.抓包前设置过滤条件（捕捉过滤器）"></a>1.抓包前设置过滤条件（捕捉过滤器）</h2><p><strong>尽量避免使用抓包过滤。即便多看几个报文，也比漏看一个报文要好。</strong>当你抓取了大量报文的时候，用显示过滤（过滤选项也更多）来重点查看某一数据流。</p>
<h3 id="1-1-抓取指定IP地址的数据流："><a href="#1-1-抓取指定IP地址的数据流：" class="headerlink" title="1.1 抓取指定IP地址的数据流："></a>1.1 抓取指定IP地址的数据流：</h3><ol>
<li>host 10.3.1.1：抓取发到/来自10.3.1.1的数据流</li>
<li>host 2406:da00:ff00::6b16:f02d：抓取发到/来自IPv6地址2406:da00:ff00::6b16:f02d的数据流</li>
<li>not host 10.3.1.1：抓取除了发到/来自10.3.1.1以外的所有数据流</li>
<li>src host 10.3.1.1：抓取来自10.3.1.1的数据流</li>
<li>dst host 10.3.1.1：抓取发到10.3.1.1的数据流</li>
<li>host 10.3.1.1 or 10.3.1.2：抓取发到/来自10.3.1.1，以及与之通讯的所有数据流，与10.3.1.2，以及与之通讯的所有数据流</li>
<li>host <a href="http://www.espn.com：抓取发到/来自所有解析为www.espn.com的IP地址的数据流" target="_blank" rel="noopener">www.espn.com：抓取发到/来自所有解析为www.espn.com的IP地址的数据流</a></li>
</ol>
<h3 id="1-2-抓取指定IP地址范围的数据流"><a href="#1-2-抓取指定IP地址范围的数据流" class="headerlink" title="1.2 抓取指定IP地址范围的数据流:"></a>1.2 抓取指定IP地址范围的数据流:</h3><ol>
<li>net 10.3.0.0/16：抓取网络10.3.0.0上发到/来自所有主机的数据流(16表示长度)</li>
<li>net 10.3.0.0 mask 255.255.0.0：与之前的过滤结果相同</li>
<li>ip6 net 2406:da00:ff00::/64：抓取网络2406:da00:ff00:0000(IPv6)上发到/来自所有主机的数据流</li>
<li>not dst net 10.3.0.0/16：抓取除了发到以10.3开头的IP地址以外的所有数据流</li>
<li>not src net 10.3.0.0/16：抓取除了来自以10.3开头的IP地址以外的所有数据流</li>
<li>ip proto &lt; protocol code &gt;：抓取ip协议字段等于&lt; protocol code &gt;值的报文。如TCP(code 6), UDP(code 17), ICMP(code 1)。</li>
<li>ip[2:2]==&lt; number &gt;：ip报文大小</li>
<li>ip[8]==&lt; number &gt;：TTL(Time to Live)值</li>
<li>ip[9]==&lt; number &gt;：协议值</li>
<li>icmp[icmptype]==&lt; identifier &gt;: 抓取 ICMP代码等于identifier的ICMP报文, 如icmp-echo 以及 icmp-request。</li>
</ol>
<p>方括号中第一个数字表示从<u><strong>协议头</strong></u>开始的偏移量，第二个数字表示需要观察多少位。</p>
<p><img src="/2019/04/30/wireshark技巧/1.png" alt="image004.png"></p>
<h3 id="1-3-抓取发到广播或多播地址的数据流"><a href="#1-3-抓取发到广播或多播地址的数据流" class="headerlink" title="1.3 抓取发到广播或多播地址的数据流:"></a>1.3 抓取发到广播或多播地址的数据流:</h3><p>只需侦听广播或多播数据流，就可以掌握网络上主机的许多信息。</p>
<ol>
<li>ip broadcast：抓取广播报文</li>
<li>ip multicast：抓取多播报文</li>
<li>dst host ff02::1：抓取到IPv6多播地址所有主机的数据流</li>
<li>dst host ff02::2：抓取到IPv6多播地址所有路由器的数据流</li>
</ol>
<h3 id="1-4-抓取基于MAC地址的数据流"><a href="#1-4-抓取基于MAC地址的数据流" class="headerlink" title="1.4 抓取基于MAC地址的数据流:"></a>1.4 抓取基于MAC地址的数据流:</h3><p>当你需要抓取发到/来自某一主机的IPv4或IPv6数据流，可创建基于主机MAC地址的抓包过滤条件。</p>
<p>应用MAC地址时，需确保与目标主机处于同一网段。</p>
<ol>
<li>ether host 00:08:15:00:08:15：抓取发到/来自00:08:15:00:08:15的数据流</li>
<li>ether src 02:0A:42:23:41:AC：抓取来自02:0A:42:23:41:AC的数据流</li>
<li>ether dst 02:0A:42:23:41:AC：抓取发到02:0A:42:23:41:AC的数据流</li>
<li>not ether host 00:08:15:00:08:15：抓取除了发到/来自00:08:15:00:08:15以外的所有数据流</li>
<li>ether broadcast或ether dst ff:ff:ff:ff:ff:ff：抓取广播报文</li>
<li>ether multicast：多播报文</li>
<li>抓取指定以太网类型的报文：ether proto 0800</li>
<li>抓取指定VLAN：vlan &lt; vlan number &gt;</li>
<li>抓取指定几个VLAN：vlan &lt; vlan number &gt; and vlan &lt; vlan number &gt;</li>
</ol>
<h3 id="1-5-抓取基于指定应用的数据流"><a href="#1-5-抓取基于指定应用的数据流" class="headerlink" title="1.5 抓取基于指定应用的数据流:"></a>1.5 抓取基于指定应用的数据流:</h3><p>你可能需要查看基于一个或几个应用的数据流。抓包过滤器语法无法识别应用名，因此需要根据端口号来定义应用。通过目标应用的TCP或UDP端口号，将不相关的报文过滤掉。</p>
<ol>
<li>port 53：抓取发到/来自端口53的UDP/TCP数据流（典型是DNS数据流）</li>
<li>not port 53：抓取除了发到/来自端口53以外的UDP/TCP数据流</li>
<li>port 80：抓取发到/来自端口80的UDP/TCP数据流（典型是HTTP数据流）</li>
<li>udp port 67：抓取发到/来自端口67的UDP数据流（典型是DHCP据流）</li>
<li>tcp port 21：抓取发到/来自端口21的TCP数据流（典型是FTP命令通道）</li>
<li>portrange 1-80：抓取发到/来自端口1-80的所有UDP/TCP数据流</li>
<li>tcp portrange 1-80：抓取发到/来自端口1-80的所有TCP数据流</li>
</ol>
<h3 id="1-6-抓取结合端口的数据流"><a href="#1-6-抓取结合端口的数据流" class="headerlink" title="1.6 抓取结合端口的数据流:"></a>1.6 抓取结合端口的数据流:</h3><p>当你需要抓取多个不连续端口号的数据流，将它们通过逻辑符号连接起来，如下图所示：</p>
<ol>
<li>port 20 or port 21：抓取发到/来自端口20或21的UDP/TCP数据流（典型是FTP数据和命令端口）</li>
<li>host 10.3.1.1 and port 80：抓取发到/来自10.3.1.1端口80的数据流</li>
<li>host 10.3.1.1 and not port 80：抓取发到/来自10.3.1.1除了端口80以外的数据流</li>
<li>udp src port 68 and udp dst port 67：抓取从端口68到端口67的所有UDP数据流（典型是从DHCP客户端到DHCP服务器）</li>
<li>udp src port 67 and udp dst port 68：抓取从端口67到端口68的所有UDP数据流（典型是从DHCP服务器到DHCP客户端）</li>
<li>抓取TCP连接的开始（SYN）和结束（FIN）报文，配置tcp[tcpflags] &amp; (tcp-syn|tcp-fin)!=0</li>
<li>抓取所有RST(Reset)标志位为1的TCP报文，配置tcp[tcpflags] &amp; (tcp-rst)!=0</li>
<li>less &lt; length &gt;：抓取小于等于某一长度的报文，等同于len &lt;=&lt; length &gt;</li>
<li>greater &lt; length &gt;：抓取大于等于某一长度的报文，等同于len &gt;=&lt; length &gt;</li>
</ol>
<p>SYN: 建立连接的信号</p>
<p>FIN: 关闭连接的信号</p>
<p>ACK: 确认接收数据的信号</p>
<p>RST: 立即关闭连接的信号</p>
<p>PSH: 推信号，尽快将数据转由应用处理</p>
<ul>
<li>tcp[13] &amp; 0x00 = 0: No flags set (null scan)</li>
<li>tcp[13] &amp; 0x01 = 1: FIN set and ACK not set</li>
<li>tcp[13] &amp; 0x03 = 3: SYN set and FIN set</li>
<li>tcp[13] &amp; 0x05 = 5: RST set and FIN set</li>
<li>tcp[13] &amp; 0x06 = 6: SYN set and RST set</li>
<li>tcp[13] &amp; 0x08 = 8: PSH set and ACK not set</li>
<li>tcp[13]是从<u><strong>协议头</strong></u>开始的偏移量，0,1,3,5,6,8是标识位。</li>
</ul>
<p><img src="/2019/04/30/wireshark技巧/2.png" alt="image005.png"></p>
<hr>
<h2 id="2-抓包后设置过滤条件（显示过滤器）"><a href="#2-抓包后设置过滤条件（显示过滤器）" class="headerlink" title="2.抓包后设置过滤条件（显示过滤器）"></a>2.抓包后设置过滤条件（显示过滤器）</h2><h3 id="2-1-协议过滤器"><a href="#2-1-协议过滤器" class="headerlink" title="2.1 协议过滤器"></a>2.1 协议过滤器</h3><ol>
<li>arp：显示所有包括ARP请求和回复在内的所有ARP数据流。</li>
<li>ip：显示内含IPv4头在内的（如ICMP目的地址不可达报文，在ICMP报文头之后返回到来方向的IPv4头）IP数据流。</li>
<li>ipv6：显示所有IPv6数据流，包括内含IPv6报文头的IPv4报文，如6to4，Teredo，以及ISATAP数据流。</li>
<li>tcp：显示所有基于TCP的数据流。</li>
</ol>
<h3 id="2-2-应用过滤器"><a href="#2-2-应用过滤器" class="headerlink" title="2.2 应用过滤器"></a>2.2 应用过滤器</h3><ol>
<li>bootp：显示所有DHCP数据流（基于BOOTP）。</li>
<li>dns：显示包括TCP区域传输以及基于标准UDP的DNS请求和回复在内的所有DNS数据流。</li>
<li>tftp：显示所有TFTP（Trivial File Transfer Protocol）数据流。</li>
<li>http：显示所有HTTP命令，回复以及数据传输报文，但不显示TCP握手报文，TCP ACK报文以及TCP结束报文。</li>
<li>icmp：显示所有ICMP报文。</li>
</ol>
<h3 id="2-3-字符过滤器"><a href="#2-3-字符过滤器" class="headerlink" title="2.3 字符过滤器"></a>2.3 字符过滤器</h3><ol>
<li>tcp.analysis.flags：显示所有包含TCP分析标识的所有报文，包括报文丢失，重传，或零窗口标识。</li>
<li>tcp.analysis.zero_window：显示含有表明发送方的接收缓存用完标识的报文。</li>
</ol>
<h3 id="2-4-域过滤器"><a href="#2-4-域过滤器" class="headerlink" title="2.4 域过滤器"></a>2.4 域过滤器</h3><ol>
<li>boot.option.hostname：显示所有包含主机名的DHCP数据流（DHCP基于BOOTP）。</li>
<li>http:host：显示所有包含HTTP主机名字段的所有HTTP报文。此报文是客户端向网络服务器发送请求时发出的。</li>
<li>ftp.request.command：显示所有包含命令的FTP数据流，比如USER，PASS，或RETR命令。</li>
</ol>
<h3 id="2-5-显示过滤器的比较运算符"><a href="#2-5-显示过滤器的比较运算符" class="headerlink" title="2.5 显示过滤器的比较运算符"></a>2.5 显示过滤器的比较运算符</h3><ol>
<li><p>==或eq</p>
<p>例如：ip.src == 10.2.2.2</p>
<p>显示所有源地址为10.2.2.2的IPv4数据流</p>
</li>
<li><p>！=或ne</p>
<p>例如：tcp.srcport != 80</p>
<p>显示源端口除了80以外的所有TCP数据流</p>
</li>
<li><p>gt 或 &gt;</p>
<p>例如：frame.time_relative &gt; 1</p>
<p>显示距前一个报文到达时间相差1秒的报文</p>
</li>
<li><p>&lt;或lt</p>
<p>例如：tcp.window_size &lt; 1460</p>
<p>显示当TCP接收窗口小于1460字节时的报文</p>
</li>
<li><p>ge 或 &gt;=</p>
<p>例如：dns.count.answers &gt;= 10</p>
<p>显示包含10个以上answer的DNS响应报文</p>
</li>
<li><p>&lt;=或le</p>
<p>例如：ip.ttl &lt;= 10</p>
<p>显示IP报文中Time to Live字段小于等于10的报文</p>
</li>
<li><p>contains</p>
<p>例如：http contains “GET”</p>
<p>显示所有HTTP客户端发送给HTTP服务器的GET请求</p>
</li>
</ol>
<p>对于基于TCP应用的过滤条件采用比较运算符。例如，如果想看端口80上面的HTTP数据流，使用HTTP.port==80。</p>
<p>小贴士：</p>
<p>运算符两边不用留空格。ip.src == 10.2.2.2与ip.src==10.2.2.2的效果是相同的。</p>
<h3 id="2-6-举例应用"><a href="#2-6-举例应用" class="headerlink" title="2.6 举例应用"></a>2.6 举例应用</h3><h4 id="2-6-1-按照某一IP地址或主机过滤报文："><a href="#2-6-1-按照某一IP地址或主机过滤报文：" class="headerlink" title="2.6.1 按照某一IP地址或主机过滤报文："></a>2.6.1 按照某一IP地址或主机过滤报文：</h4><ul>
<li><p>例如：ip.addr==10.3.1.1</p>
<p>显示在IP源地址字段或IP目的地址字段包含10.3.1.1的帧。</p>
<hr>
</li>
<li><p>例如：！ip.addr==10.3.1.1</p>
<p>显示除了在IP源地址字段或IP目的地址字段包含10.3.1.1以外的帧。</p>
<hr>
</li>
<li><p>例如：ipv6.addr==2406:da00:ff00::6b16:f02d</p>
<p>显示以2406:da00:ff00::6b16:f02d为源地址或目的地址的帧。</p>
<hr>
</li>
<li><p>例如：ip.src==10.3.1.1</p>
<p>显示所有来自10.3.1.1的数据流。</p>
<hr>
</li>
<li><p>例如：ip.dst==10.3.1.1</p>
<p>显示所有发往10.3.1.1的数据流</p>
<hr>
</li>
<li><p>例如：ip.host==<a href="http://www.wireshark.org" target="_blank" rel="noopener">www.wireshark.org</a></p>
<p>显示所有解析为<a href="http://www.wireshark.org的IP" target="_blank" rel="noopener">www.wireshark.org的IP</a></p>
<hr>
</li>
</ul>
<h4 id="2-6-2-按照某一IP地址范围过滤报文："><a href="#2-6-2-按照某一IP地址范围过滤报文：" class="headerlink" title="2.6.2 按照某一IP地址范围过滤报文："></a>2.6.2 按照某一IP地址范围过滤报文：</h4><p>可以使用&gt;或&lt;比较运算符或逻辑运算符&amp;&amp;查找某一地址范围内的报文。</p>
<ul>
<li><p>例如：ip.addr&gt;10.3.0.1&amp;&amp;ip.addr&lt;10.3.0.5</p>
<p>显示来自或发往10.3.0.2，10.3.0.3，10.3.0.4的数据流。</p>
<hr>
</li>
<li><p>例如：(ip.addr&gt;=10.3.0.1&amp;&amp;ip.addr&lt;=10.3.0.6)&amp;&amp;!ip.addr==10.3.0.3</p>
<p>显示来自或发往10.3.0.1，10.3.0.2，10.3.0.4，10.3.0.5，10.3.0.6的数据流，10.3.0.3排除在外。</p>
<hr>
</li>
<li><p>例如：ipv6.addr&gt;=fe80::&amp;&amp;ipv6.addr&lt;fec0::</p>
<p>显示IPv6地址从0xfe80到0xfec0开头的数据流。</p>
<hr>
</li>
</ul>
<h4 id="2-6-3-按照某一IP子网过滤报文："><a href="#2-6-3-按照某一IP子网过滤报文：" class="headerlink" title="2.6.3 按照某一IP子网过滤报文："></a>2.6.3 按照某一IP子网过滤报文：</h4><p>可以通过ip.addr字段名定义一个子网。这种格式使用IP地址后跟斜杠以及一个后缀，表明IP地址中定义的网络部分的比特数。</p>
<ul>
<li><p>例如：ip.addr==10.3.0.0/16</p>
<p>显示在IP源地址或目的地址字段以10.3开头的数据流。</p>
<hr>
</li>
<li><p>例如：ip.addr == 10.3.0.0/16 &amp;&amp; ！ip.addr==10.3.1.1</p>
<p>显示除了10.3.1.1以外，在IP源地址或目的地址字段以10.3开头的数据流。</p>
<hr>
</li>
<li><p>例如：!ip.addr == 10.3.0.0/16 &amp;&amp; !ip.addr==10.2.0.0/16</p>
<p>显示所有数据流，除了在IP源地址或目的地址字段以10.3和10.2开头的数据流</p>
<hr>
</li>
</ul>
<blockquote>
<p>注意：</p>
<p>错误的用法导致不work：</p>
<hr>
<p>错误：ip.addr != 10.2.2.2</p>
<p>显示在IP源地址或IP目的地址不包含10.2.2.2的报文。只要在源或目的IP地址不为10.2.2.2，报文就会被显示出来。这时隐含的或会导致实际上并未过滤任何报文。</p>
<p>正确：！ip.addr == 10.2.2.2</p>
<p>显示IP源地址和IP目的地址都不包含10.2.2.2的报文。</p>
<hr>
<p>错误：!tcp.flags.syn==1</p>
<p>显示所有不含TCP SYN bit设置为1的报文。其他协议报文，必须UDP和ARP报文也符合这一过滤条件，因为它们的TCP SYN bit没有设置为1。</p>
<p>正确：tcp.flags.syn！=1</p>
<p>只显示包含SYN设置为0的TCP报文。</p>
<hr>
</blockquote>

      

      

          
        
          
        </div>

    </div>
    <footer class="article-footer">
      <a data-url="https://dilidonglong.github.io/2019/04/30/wireshark技巧/" data-id="ck09sgni1000b4ovdjpxl1bmd" class="article-share-link">分享</a>
      
    </footer>

  

  

  

</article>



      
  </article>
  
  
    <nav class="page-nav">
      
      <a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/">下一页</a>
    </nav>
  
</section>
</div>

  <footer class="footer">
  
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2019 望伊如西の博客</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>

<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="望伊如西の博客"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">主页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories">分类</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">相册</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">归档</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>

<nav class="navbar navbar-bottom">
  <ul class="nav">
      <li class="nav-item">
          <div class="totop" id="totop">
    <i class="fe fe-rocket"></i>
</div>
      </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>

<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>



  <script src="/js/search.js"></script>


<script src="/js/ocean.js"></script>

</body>
</html>